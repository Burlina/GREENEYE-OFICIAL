<!DOCTYPE html>
<html lang="PT-br">

<head>
  <meta charset="UTF-8">
  <title>GreenEye - Cadastrar lote</title>

  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="../assets/img/olhoolho.png" rel="icon">
  <link href="../assets/img/olhoolho.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="../assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="../assets/css/style-cadastros.css" rel="stylesheet">

</head>

<body>
  <!-- START CADASTRO LOTE -->
  <div class="content">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <div class="box-login">
      
      <a href="desenvolvedor.html">
        <img id="img-back-pages" src="../assets/img/login_cadastro/back_icon_green.png">Voltar</a>
        
        <div class="wrapper">
          <div class="title-text">
  
            <div class="title login">
              Lote
            </div>
            <div class="title signup">
              Especificações
            </div>
          </div>
          <div class="form-container">
            <div class="slide-controls">
              <input type="radio" name="slide" id="login" checked>
              <input type="radio" name="slide" id="signup">
              <label for="login" class="slide login">Lote</label>
              <label for="signup" class="slide signup">Especificações</label>
              <div class="slider-tab"></div>
            </div>
            <div class="form-inner">
              <form action="#" class="login">
                <div class="field">
                  <input id="logData" type="date" placeholder="00/00/0000">
                </div>
                <div class="field">
                  <input id="logModelo" type="text" placeholder="Modelo">
                </div>
                <select class="field" name="" id="logQuant">
                  <option value="">Quantidade de máquinas</option>
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="30">30</option>
                  <option value="40">40</option>
                  <option value="50">50</option>
                </select>
                <div class="field">
                  <input id="logEsp" type="number" placeholder="ID Especificações">
                </div>
                <div class="field">
                  <input id="logEmpresa" type="number" placeholder="ID Empresa">
                </div>
                <div class="field btn">
                  <div class="btn-layer"></div>
                  <input type="submit" value="Cadastrar" onclick="cadLote()">
                </div>
              </form>

              <form action="#" class="signup">
                <div class="field">
                  <div class="field">
                    <input id="logProcessador" type="text" placeholder="Modelo Processador">
                  </div>
                  <div class="field">
                    <input id="logRam" type="text" placeholder="Modelo RAM">
                  </div>
                  <div class="field">
                    <input id="logDisco" type="text" placeholder="Modelo Disco">
                  </div>
                  <div class="field">
                    <input id="logCPU" type="text" placeholder="Modelo CPU">
                  </div>
                  <!-- <div class="field">
                    <input id="#" type="text" placeholder="Modelo Placa-Mãe">
                  </div> -->
                  <div class="field btn">
                    <div class="btn-layer"></div>
                    <input type="submit" onclick="cadEspecificacao()" value="Cadastrar">
                  </div>
              </form>
            </div>
          </div>
        </div>

        <script>
          const loginText = document.querySelector(".title-text .login");
          const loginForm = document.querySelector("form.login");
          const loginBtn = document.querySelector("label.login");
          const signupBtn = document.querySelector("label.signup");
          const signupLink = document.querySelector("form .signup-link a");
          signupBtn.onclick = (() => {
            loginForm.style.marginLeft = "-50%";
            loginText.style.marginLeft = "-50%";
          });
          loginBtn.onclick = (() => {
            loginForm.style.marginLeft = "0%";
            loginText.style.marginLeft = "0%";
          });
          signupLink.onclick = (() => {
            signupBtn.click();
            return false;
          });
        </script>
      </div>
    </div>
  </div>
  <!-- link: https://codepen.io/jando132456/pen/JjLZXYK -->
  <!-- END LOGIN -->

  <!-- Vendor JS Files -->
  <script src="../assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="../assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="../assets/js/main.js"></script>
</body>


</html>

<script src="../assets/js/redirecionamento.js"></script>

<script>
  function cadLote() {
		var logData = newDate(logData.value);
		var logEmpresa = Number(logEmpresa.value);
		var logModelo = logModelo.value;
		var logEsp = Number(logEsp.value);
		var logQuant = Number(logQuant.value);

		if (logData == "" || logEmpresa == "" || logQuant == "" || logEsp == "" || logModelo == "") {
			alert("Informe todos os dados corretamente!");
			return false;
		}

			console.log("INICIANDO O FETCH");
			// Enviando o valor da nova input
			fetch("/usuarios/cadLote", {
				method: "POST",
				headers: {
					"Content-Type": "application/json"
				},
				body: JSON.stringify({
					// crie um atributo que recebe o valor recuperado aqui
					// Agora vá para o arquivo routes/usuario.js
					logDataServer: logData,
					logEmpresaServer: logEmpresa,
					logQuantServer: logQuant,
					logEspServer: logEsp,
					logModeloServer: logModelo
				})
			}).then(function (resposta) {
				console.log("entrei no fetch");
				console.log("resposta: ", resposta);

				if (resposta.ok) {
					alert("Cadastro realizado com sucesso!");
					function girar() {
						girar1
					}
				} else {
					alert("Houve um erro ao tentar realizar o cadastro!");
				}
			}).catch(function (resposta) {
				console.log(`#ERRO: ${resposta}`);

			});

			return false;

		}

    function cadEspecificacao() {
		var logProcessador = logProcessador.value;
		var logRam = logRam.value;
		var logDisco = logDisco.value;
		var logCPU = logCPU.value;
	

		if (logProcessador == "" || logRam == "" || logDisco == "" || logCPU == "") {
			alert("Informe os dados corretamente!");
			return false;
		}
		

			console.log("INICIANDO O FETCH");
			// Enviando o valor da nova input
			fetch("/usuarios/cadEspecificacao", {
				method: "POST",
				headers: {
					"Content-Type": "application/json"
				},
				body: JSON.stringify({
					// crie um atributo que recebe o valor recuperado aqui
					// Agora vá para o arquivo routes/usuario.js
					logProcessadorServer:logProcessador,
					logRamServer: logRam,
					logDiscoServer: logDisco,
					logCPUServer: logCPU
				})
			}).then(function (resposta) {
				console.log("entrei no fetch");
				console.log("resposta: ", resposta);

				if (resposta.ok) {
                alert("Cadastro realizado com sucesso!");
					function girar() {
						girar1
					}
				} else {
					alert("Houve um erro ao tentar realizar o cadastro!");
				}
			}).catch(function (resposta) {
				console.log(`#ERRO: ${resposta}`);

			});

			return false;
		}
</script>